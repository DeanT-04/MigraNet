# è„šæœ¬è¯´æ˜æ–‡æ¡£

## ğŸ“„ æ–‡ä»¶åˆ—è¡¨

### `migraine_network_builder.py`
ä¸»è¦æ•°æ®å¤„ç†å’Œç½‘ç»œæ„å»ºè„šæœ¬

## ğŸ”§ åŠŸèƒ½è¯´æ˜

### æ ¸å¿ƒç±»: `PubMedRefinedNetwork`

#### ä¸»è¦æ–¹æ³•:

1. **`load_pubmed_data(file_path)`**
   - åŠŸèƒ½: åŠ è½½PubMed CSVæ•°æ®
   - æ”¯æŒå¤šç§ç¼–ç æ ¼å¼ (UTF-8, Latin-1, CP1252)
   - è‡ªåŠ¨æ£€æµ‹åˆ†éš”ç¬¦

2. **`strict_term_cleaning(term)`**
   - åŠŸèƒ½: ä¸¥æ ¼çš„æœ¯è¯­æ¸…ç†
   - å»é™¤åœç”¨è¯ï¼ˆ66ä¸ªåŒ»å­¦å¸¸ç”¨è¯ï¼‰
   - è¿‡æ»¤ç‰¹æ®Šå­—ç¬¦å’Œæ— æ•ˆæœ¯è¯­
   - æ ‡å‡†åŒ–æ ¼å¼

3. **`precise_categorization(term)`**
   - åŠŸèƒ½: ç²¾ç¡®åˆ†ç±»åŒ»å­¦æœ¯è¯­
   - å››å¤§ç±»åˆ«:
     - è¯±å‘æœºåˆ¶ (trigger_mechanisms)
     - ç¡®è¯å…±ç—… (true_comorbidities)
     - ç¤¾ä¼šå½±å“ (social_impact)
     - å¹²é¢„æªæ–½ (interventions)

4. **`build_refined_network(df, min_frequency, min_weight)`**
   - åŠŸèƒ½: æ„å»ºç²¾ç‚¼ç½‘ç»œ
   - å‚æ•°:
     - `min_frequency`: æœ€å°æœ¯è¯­é¢‘ç‡é˜ˆå€¼ï¼ˆé»˜è®¤3ï¼‰
     - `min_weight`: æœ€å°è¾¹æƒé‡é˜ˆå€¼ï¼ˆé»˜è®¤2ï¼‰
   - è¾“å‡º: èŠ‚ç‚¹å’Œè¾¹çš„DataFrame

## ğŸ¯ ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬è¿è¡Œ:
```python
python migraine_network_builder.py
```

### ä¿®æ”¹è¾“å…¥æ–‡ä»¶è·¯å¾„:
åœ¨è„šæœ¬ä¸­ä¿®æ”¹ç¬¬337è¡Œçš„æ–‡ä»¶è·¯å¾„:
```python
file_path = r"C:\Users\29385\Desktop\å¤§ä¸‰\å¤æ‚ç½‘ç»œ\åå¤´ç—›2\PubMed.csv"
```

### è°ƒæ•´è¿‡æ»¤é˜ˆå€¼:
ä¿®æ”¹ç¬¬354è¡Œçš„å‚æ•°:
```python
nodes_df, edges_df = converter.build_refined_network(
    df, 
    min_frequency=3,  # è°ƒæ•´æœ€å°é¢‘ç‡
    min_weight=2      # è°ƒæ•´æœ€å°æƒé‡
)
```

## ğŸ“Š è¾“å‡ºæ–‡ä»¶

è„šæœ¬ä¼šåœ¨æ•°æ®æºç›®å½•ç”Ÿæˆä»¥ä¸‹æ–‡ä»¶:
- `gephi_refined_nodes.csv` - GephièŠ‚ç‚¹æ–‡ä»¶
- `gephi_refined_edges.csv` - Gephiè¾¹æ–‡ä»¶
- `detailed_refined_nodes.csv` - è¯¦ç»†èŠ‚ç‚¹æ•°æ®
- `detailed_refined_edges.csv` - è¯¦ç»†è¾¹æ•°æ®

## âš™ï¸ é…ç½®å‚æ•°

### åŒ»å­¦åœç”¨è¯åˆ—è¡¨:
66ä¸ªå¸¸è§åŒ»å­¦ç ”ç©¶æœ¯è¯­ï¼ˆstudy, research, patientç­‰ï¼‰

### åˆ†ç±»å…³é”®è¯:
- è¯±å‘æœºåˆ¶: 150+ä¸ªå…³é”®è¯
- ç¡®è¯å…±ç—…: ç¥ç»ã€ç²¾ç¥ã€ç–¼ç—›ç±»ç–¾ç—…
- ç¤¾ä¼šå½±å“: ç”Ÿæ´»è´¨é‡ã€ç»æµè´Ÿæ‹…
- å¹²é¢„æªæ–½: è¯ç‰©å’Œéè¯ç‰©æ²»ç–—

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜:

1. **æ–‡ä»¶è¯»å–å¤±è´¥**
   - æ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®
   - ç¡®è®¤CSVæ–‡ä»¶ç¼–ç æ ¼å¼

2. **èŠ‚ç‚¹æ•°é‡è¿‡å°‘**
   - é™ä½ `min_frequency` é˜ˆå€¼
   - æ£€æŸ¥æ•°æ®è´¨é‡

3. **è¾¹æ•°é‡è¿‡å¤š**
   - æé«˜ `min_weight` é˜ˆå€¼
   - è€ƒè™‘å¢åŠ æœ¯è¯­è¿‡æ»¤è§„åˆ™

## ğŸ“ æ³¨æ„äº‹é¡¹

- ç¡®ä¿è¾“å…¥CSVæ–‡ä»¶åŒ…å« "Manual Tags" åˆ—
- è„šæœ¬ä¼šè‡ªåŠ¨å¤„ç†å¤šç§CSVæ ¼å¼
- ç”Ÿæˆæ–‡ä»¶ä½¿ç”¨UTF-8-sigç¼–ç ä»¥æ”¯æŒä¸­æ–‡
